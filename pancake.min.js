function Pancake(e,t){if(e){if(window===this){return new Pancake(e,t)}if(typeof e==="string"){e=document.getElementById(e)}if(e){if(e.tagName.toLowerCase()==="svg"){this.canvas=document.createElement("canvas");this.canvas.width=this.width=e.scrollWidth;this.canvas.height=this.height=e.scrollHeight;var n=document.createElement("div");n.appendChild(e.cloneNode(true));canvg(this.canvas,n.innerHTML,{ignoreMouse:true,ignoreAnimation:true})}if(e.tagName.toLowerCase()==="canvas"){this.canvas=e.cloneNode(true);this.width=this.canvas.width;this.height=this.canvas.height}if(this.canvas){this.format=typeof t==="string"&&t.match(/^(image\/)?(png|webp|jpe?g)$/i)?t.toLowerCase().replace("jpg","jpeg"):"image/png";if(!this.format.match(/^image\//))this.format="image/"+this.format;this.src=this.canvas.toDataURL(this.format);this.element=document.createElement("img");this.element.src=this.src;if(this.height)this.element.height=this.height;if(this.width)this.element.width=this.width;delete this.canvas}else{throw"Supplied element must be a <canvas> or <svg> element.";return{}}}return this}else{throw"No valid element or element ID supplied.";return{}}}Pancake.prototype={replace:function(e){if(typeof e==="string"){e=document.getElementById(e)}if(e&&this.element){e.parentNode.insertBefore(this.element,e.nextSibling);e.parentNode.removeChild(e);return true}throw"No valid element or element ID supplied.";return false}}